#include "lcd1602a_bitwise_ops.h"

/* TEST CASE */
/*
static void lcd1602a_test(char* expression, uint32_t ouput, uint32_t expected)
{
    printk(KERN_INFO "lcd1602a: Test Result: %s, Case: %s, Ouput: %u (0x%X), Expected: %u (0x%X)", 
        (ouput == expected ? "pass" : "fail"), 
        expression, 
        ouput, ouput, 
        expected, expected
    );
}

#define LCD1602A_TEST(value, expected) lcd1602a_test(#value, (value), (expected))

uint32_t test = 0;
LCD1602A_TEST(LCD1602A_BIT_SET(test, 3), 8);
LCD1602A_TEST(LCD1602A_BIT_SET(test, 4), 24);
LCD1602A_TEST(LCD1602A_BIT_SET(test, 0), 25);

LCD1602A_TEST(LCD1602A_BIT_CLEAR(test, 0), 24);
LCD1602A_TEST(LCD1602A_BIT_CLEAR(test, 1), 24);
LCD1602A_TEST(LCD1602A_BIT_CLEAR(test, 4), 8);
LCD1602A_TEST(LCD1602A_BIT_CLEAR(test, 3), 0);

LCD1602A_TEST( LCD1602A_BITFIELD_MASK(0, 0), 0x00 );
LCD1602A_TEST( LCD1602A_BITFIELD_MASK(0, 1), 0x01 );
LCD1602A_TEST( LCD1602A_BITFIELD_MASK(2, 1), 0x04 );
LCD1602A_TEST( LCD1602A_BITFIELD_MASK(0, 4), 0x0f );
LCD1602A_TEST( LCD1602A_BITFIELD_MASK(1, 4), 30 );
LCD1602A_TEST( LCD1602A_BITFIELD_MASK(4, 2), 48 );

test = 3;
LCD1602A_TEST(LCD1602A_BIT_SET(test, 31), 0x80000003);
LCD1602A_TEST(LCD1602A_BIT_CLEAR(test, 31), 0x00000003);
LCD1602A_TEST(LCD1602A_BIT_CLEAR(test, 1), 1);
LCD1602A_TEST(LCD1602A_BIT_CLEAR(test, 0), 0);

test = 0;
LCD1602A_TEST(LCD1602A_BIT_GET(test, 0), 0);
LCD1602A_TEST(LCD1602A_BIT_SET_VALUE(test, 0, 1), 1);
LCD1602A_TEST(LCD1602A_BIT_GET(test, 0), 1);
LCD1602A_TEST(LCD1602A_BIT_SET_VALUE(test, 0, 0), 0);
LCD1602A_TEST(LCD1602A_BIT_GET(test, 0), 0);

LCD1602A_TEST(LCD1602A_BIT_SET_VALUE(test, 10, 1), 1024);
LCD1602A_TEST(LCD1602A_BIT_GET(test, 10), 1);
LCD1602A_TEST(LCD1602A_BIT_SET_VALUE(test, 10, 0), 0);
LCD1602A_TEST(LCD1602A_BIT_GET(test, 10), 0);

test = 0xFFFF;
LCD1602A_TEST(LCD1602A_BIT_SET_VALUE(test, 7, 0), 0xFF7F);
LCD1602A_TEST(LCD1602A_BIT_GET(test, 7), 0);
LCD1602A_TEST(LCD1602A_BIT_SET_VALUE(test, 7, 1), 0xFFFF);
LCD1602A_TEST(LCD1602A_BIT_GET(test, 7), 1);

test = 0;
LCD1602A_TEST(LCD1602A_BITFIELD_SET(test, 3, 4, 9),0x48);
LCD1602A_TEST(LCD1602A_BITFIELD_GET(test, 3, 4), 9); 
*/